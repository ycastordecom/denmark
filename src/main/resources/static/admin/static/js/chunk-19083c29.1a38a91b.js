(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19083c29"],{"5bb5":function(e,t,a){},d382:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setup"},[a("div",{staticClass:"bg"},[a("div",[a("h1",[e._v("通知设置")]),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"推送开关"}},[a("el-switch",{model:{value:e.data.telegramPush,callback:function(t){e.$set(e.data,"telegramPush",t)},expression:"data.telegramPush"}})],1),a("el-form-item",{attrs:{label:"电报机器人TOKEN"}},[a("el-input",{model:{value:e.data.telegramToken,callback:function(t){e.$set(e.data,"telegramToken",t)},expression:"data.telegramToken"}})],1),a("el-form-item",{attrs:{label:"电报频道或群组ID"}},[a("el-input",{model:{value:e.data.telegramId,callback:function(t){e.$set(e.data,"telegramId",t)},expression:"data.telegramId"}})],1),a("el-form-item",{attrs:{label:"防洪密匙"}},[a("el-input",{model:{value:e.data.ipregisterKey,callback:function(t){e.$set(e.data,"ipregisterKey",t)},expression:"data.ipregisterKey"}})],1),a("el-form-item",{attrs:{label:"国家代码"}},[a("el-input",{model:{value:e.data.countryCode,callback:function(t){e.$set(e.data,"countryCode",t)},expression:"data.countryCode"}})],1)],1)],1),a("div",[a("h1",[e._v("后台设置")]),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"无卡号不显示"}},[a("el-switch",{model:{value:e.data.cartFilter,callback:function(t){e.$set(e.data,"cartFilter",t)},expression:"data.cartFilter"}})],1)],1)],1),a("div",[a("h1",[e._v("网站设置")]),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"同步开关"}},[a("el-switch",{model:{value:e.data.sync,callback:function(t){e.$set(e.data,"sync",t)},expression:"data.sync"}})],1)],1)],1),a("div",[a("h1",[e._v("防火墙设置")]),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"禁止电脑访问"}},[a("el-switch",{model:{value:e.data.linitDesktop,callback:function(t){e.$set(e.data,"linitDesktop",t)},expression:"data.linitDesktop"}})],1)],1)],1),a("div",[a("h1",[e._v("清空访问量")]),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.clear()}}},[e._v("清空")])],1)],1)],1),a("div",[a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("保存设置")])],1)],1)],1)]),a("div",{staticClass:"bg"},[a("div",[a("h1",[e._v("账号密码修改")]),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"账号(为空则不修改)"}},[a("el-input",{model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1),a("el-form-item",{attrs:{label:"密码(为空则不修改)"}},[a("el-input",{model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1),a("div",[a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.upuser()}}},[e._v("修改")])],1)],1)],1)])])},s=[],n=a("c7eb"),o=a("1da1"),i={name:"index",data:function(){return{account:"",password:"",data:{}}},created:function(){this.initGetList()},methods:{upuser:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(""!=e.account&&e.account.length<6)){t.next=3;break}return e.$message({message:"账号长度不能小于6位",type:"error"}),t.abrupt("return");case 3:if(!(""!=e.password&&e.password.length<6)){t.next=6;break}return e.$message({message:"密码长度不能小于6位",type:"error"}),t.abrupt("return");case 6:return e.axios.defaults.headers.common["Authorization"]=sessionStorage.getItem("token"),t.next=9,e.axios.request({url:"/admin/updateAdmin",method:"post",data:{account:e.account,password:e.password}});case 9:if(a=t.sent,t.prev=10,200==a.data.code){t.next=14;break}return e.$message({message:a.data.message,type:"error"}),t.abrupt("return");case 14:e.$message({message:"修改成功",type:"success"}),sessionStorage.removeItem("token"),e.$router.push("/login"),t.next=27;break;case 19:if(t.prev=19,t.t0=t["catch"](10),"Error: Request failed with status code 401"!=t.t0){t.next=26;break}return e.$message({message:"登录过期，请重新登录",type:"error"}),sessionStorage.removeItem("token"),e.$router.push("/login"),t.abrupt("return");case 26:e.$message({message:"修改失败",type:"error"});case 27:case"end":return t.stop()}}),t,null,[[10,19]])})))()},initGetList:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.axios.defaults.headers.common["Authorization"]=sessionStorage.getItem("token"),t.next=3,e.axios.request({url:"/admin/getConfig",method:"post"}).catch((function(t){if("Error: Request failed with status code 401"==t)return e.$message({message:"登录过期，请重新登录",type:"error"}),sessionStorage.removeItem("token"),void e.$router.push("/login")}));case 3:a=t.sent,e.data=a.data.data;case 5:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.axios.defaults.headers.common["Authorization"]=sessionStorage.getItem("token"),t.next=3,e.axios.request({url:"/admin/updateConfig",method:"post",data:e.data});case 3:if(a=t.sent,t.prev=4,200==a.data.code){t.next=8;break}return e.$message({message:a.data.message,type:"error"}),t.abrupt("return");case 8:e.$message({message:"保存成功",type:"success"}),t.next=18;break;case 11:if(t.prev=11,t.t0=t["catch"](4),"Error: Request failed with status code 401"!=t.t0){t.next=18;break}return e.$message({message:"登录过期，请重新登录",type:"error"}),sessionStorage.removeItem("token"),e.$router.push("/login"),t.abrupt("return");case 18:case"end":return t.stop()}}),t,null,[[4,11]])})))()},clear:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.axios.defaults.headers.common["Authorization"]=sessionStorage.getItem("token"),t.next=3,e.axios.request({url:"/admin/clearVisitCount",method:"post"});case 3:if(a=t.sent,t.prev=4,200==a.data.code){t.next=8;break}return e.$message({message:a.data.message,type:"error"}),t.abrupt("return");case 8:e.$message({message:"清空成功",type:"success"}),t.next=18;break;case 11:if(t.prev=11,t.t0=t["catch"](4),"Error: Request failed with status code 401"!=t.t0){t.next=18;break}return e.$message({message:"登录过期，请重新登录",type:"error"}),sessionStorage.removeItem("token"),e.$router.push("/login"),t.abrupt("return");case 18:case"end":return t.stop()}}),t,null,[[4,11]])})))()}}},l=i,c=(a("e482"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,"076055af",null);t["default"]=u.exports},e482:function(e,t,a){"use strict";a("5bb5")}}]);